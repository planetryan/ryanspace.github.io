"use strict";(globalThis.webpackChunk_clerk_clerk_js=globalThis.webpackChunk_clerk_clerk_js||[]).push([["722"],{7389:function(e,t,r){r.d(t,{v:()=>a});var o=r(8635),n=r(3064),i=r(3805);let a=e=>{let{onBackLinkClick:t}=e;return(0,o.tZ)(i.ErrorCard,{cardTitle:(0,n.localizationKeys)("signIn.alternativeMethods.getHelp.title"),cardSubtitle:(0,n.localizationKeys)("signIn.alternativeMethods.getHelp.content"),onBackLinkClick:t})}},9181:function(e,t,r){r.r(t),r.d(t,{SignIn:()=>eZ,SignInModal:()=>eP});var o=r(8635),n=r(3799),i=r(9144),a=r(7508),s=r(2073),l=r(5112),c=r(3812),d=r(3064),u=r(4229),p=r(4511),h=r(4676);let m=()=>Promise.all([r.e("200"),r.e("573"),r.e("710")]).then(r.bind(r,9817)),f=(0,i.lazy)(()=>m().then(e=>({default:e.SignUpVerifyPhone}))),g=(0,i.lazy)(()=>m().then(e=>({default:e.SignUpVerifyEmail}))),I=(0,i.lazy)(()=>m().then(e=>({default:e.SignUpStart}))),C=(0,i.lazy)(()=>m().then(e=>({default:e.SignUpSSOCallback}))),S=(0,i.lazy)(()=>m().then(e=>({default:e.SignUpContinue}))),y=()=>Promise.all([r.e("200"),r.e("573"),r.e("710")]).then(r.bind(r,6052)).then(e=>e.completeSignUpFlow);var v=r(4152),B=r(3805),w=r(3234),_=r(43);let b=(0,B.withCardStateProvider)(()=>{let e=(0,c.useCoreSignIn)(),t=(0,B.useCardState)(),{navigate:r}=(0,h.useRouter)(),n=(0,w.H)(),{userSettings:{passwordSettings:a}}=(0,c.useEnvironment)(),{t:s,locale:l}=(0,d.useLocalizations)(),p="needs_new_password"===e.status&&"reset_password_email_code"!==e.firstFactorVerification.strategy&&"reset_password_phone_code"!==e.firstFactorVerification.strategy;i.useEffect(()=>{p&&t.setError(s((0,d.localizationKeys)("signIn.resetPassword.requiredMessage")))},[]);let m=(0,_.Yp)("password","",{type:"password",label:(0,d.localizationKeys)("formFieldLabel__newPassword"),isRequired:!0,validatePassword:!0,buildErrorMessage:e=>(0,_.GM)(e,{t:s,locale:l,passwordSettings:a})}),f=(0,_.Yp)("confirmPassword","",{type:"password",label:(0,d.localizationKeys)("formFieldLabel__confirmPassword"),isRequired:!0}),g=(0,_.Yp)("signOutOfOtherSessions","",{type:"checkbox",label:(0,d.localizationKeys)("formFieldLabel__signOutOfOtherSessions"),defaultChecked:!0}),{setConfirmPasswordFeedback:I,isPasswordMatch:C}=(0,u.p5)({passwordField:m,confirmPasswordField:f}),S=async()=>{m.clearFeedback(),f.clearFeedback();try{let{status:t,createdSessionId:o}=await e.resetPassword({password:m.value,signOutOfOtherSessions:g.checked});switch(t){case"complete":if(o){let e=new URLSearchParams;return e.set("createdSessionId",o),r(`../reset-password-success?${e.toString()}`)}return console.error((0,v.Ws)(t,n));case"needs_second_factor":return r("../factor-two");default:return console.error((0,v.Ws)(t,n))}}catch(e){return(0,_.S3)(e,[m,f],t.setError)}};return(0,o.BX)(B.Card.Root,{children:[(0,o.BX)(B.Card.Content,{children:[(0,o.tZ)(B.Header.Root,{showLogo:!0,children:(0,o.tZ)(B.Header.Title,{localizationKey:(0,d.localizationKeys)("signIn.resetPassword.title")})}),(0,o.tZ)(B.Card.Alert,{children:t.error}),(0,o.tZ)(d.Col,{elementDescriptor:d.descriptors.main,gap:8,children:(0,o.BX)(B.Form.Root,{onSubmit:S,onBlur:()=>{m.value&&I(f.value)},gap:8,children:[(0,o.BX)(d.Col,{gap:6,children:[(0,o.tZ)("input",{readOnly:!0,"data-testid":"hidden-identifier",id:"identifier-field",name:"identifier",value:e.identifier||"",style:{display:"none"}}),(0,o.tZ)(B.Form.ControlRow,{elementId:m.id,children:(0,o.tZ)(B.Form.PasswordInput,{...m.props,isRequired:!0,autoFocus:!0})}),(0,o.tZ)(B.Form.ControlRow,{elementId:f.id,children:(0,o.tZ)(B.Form.PasswordInput,{...f.props,onChange:e=>(e.target.value&&I(e.target.value),f.props.onChange(e))})}),!p&&(0,o.tZ)(B.Form.ControlRow,{elementId:g.id,children:(0,o.tZ)(B.Form.Checkbox,{...g.props})})]}),(0,o.BX)(d.Col,{gap:3,children:[(0,o.tZ)(B.Form.SubmitButton,{isDisabled:!C,localizationKey:(0,d.localizationKeys)("signIn.resetPassword.formButtonPrimary")}),(0,o.tZ)(B.Card.Action,{elementId:"alternativeMethods",children:(0,o.tZ)(B.Card.ActionLink,{elementDescriptor:d.descriptors.backLink,localizationKey:(0,d.localizationKeys)("backButton"),onClick:()=>r("../")})})]})]})})]}),(0,o.tZ)(B.Card.Footer,{})]})});var A=r(4875),k=r(9572);let Z=(0,B.withCardStateProvider)(()=>{let e=(0,B.useCardState)();return(0,A.E)(),(0,o.BX)(B.Card.Root,{children:[(0,o.BX)(B.Card.Content,{children:[(0,o.tZ)(B.Header.Root,{showLogo:!0,children:(0,o.tZ)(B.Header.Title,{localizationKey:(0,d.localizationKeys)("signIn.resetPassword.title")})}),(0,o.tZ)(B.Card.Alert,{children:e.error}),(0,o.BX)(d.Col,{elementDescriptor:d.descriptors.main,gap:8,children:[(0,o.tZ)(d.Text,{localizationKey:(0,d.localizationKeys)("signIn.resetPassword.successMessage")}),(0,o.tZ)(k.kC,{direction:"row",center:!0,children:(0,o.tZ)(d.Spinner,{size:"xl",colorScheme:"primary",elementDescriptor:d.descriptors.spinner})})]})]}),(0,o.tZ)(B.Card.Footer,{})]})});var P=r(8969),F=r(9037),E=r(3610),U=r(9327),z=r(5241);let L=(0,P.Hy)((0,B.withCardStateProvider)(()=>{let e=(0,F.v)(),{userProfileUrl:t}=(0,c.useEnvironment)().displayConfig,{afterSignInUrl:r,path:n}=(0,c.useSignInContext)(),{navigateAfterSignOut:i}=(0,c.useSignOutContext)(),{handleSignOutAllClicked:a,handleSessionClicked:s,signedInSessions:l,handleAddAccountClicked:u}=(0,z.Z)({navigateAfterSignOut:i,afterSwitchSessionUrl:r,userProfileUrl:t,signInUrl:n,user:void 0});return(0,o.tZ)(d.Flow.Part,{part:"accountSwitcher",children:(0,o.BX)(B.Card.Root,{children:[(0,o.BX)(B.Card.Content,{sx:e=>({padding:`${e.space.$8} ${e.space.$none} ${e.space.$none}`}),children:[(0,o.BX)(B.Header.Root,{children:[(0,o.tZ)(B.Header.Title,{localizationKey:(0,d.localizationKeys)("signIn.accountSwitcher.title")}),(0,o.tZ)(B.Header.Subtitle,{localizationKey:(0,d.localizationKeys)("signIn.accountSwitcher.subtitle")})]}),(0,o.tZ)(B.Card.Alert,{children:e.error}),(0,o.tZ)(d.Col,{elementDescriptor:d.descriptors.main,gap:8,sx:e=>({borderTopWidth:e.borderWidths.$normal,borderTopStyle:e.borderStyles.$solid,borderTopColor:e.colors.$neutralAlpha100}),children:(0,o.BX)(B.Actions,{role:"menu",children:[l.map(e=>(0,o.tZ)(B.PreviewButton,{onClick:s(e),sx:e=>({height:e.sizes.$16,justifyContent:"flex-start",borderRadius:0}),icon:E.nR,children:(0,o.tZ)(B.UserPreview,{user:e.user,sx:{width:"100%"}})},e.id)),(0,o.tZ)(B.Action,{elementDescriptor:d.descriptors.accountSwitcherActionButton,elementId:d.descriptors.accountSwitcherActionButton.setId("addAccount"),iconBoxElementDescriptor:d.descriptors.accountSwitcherActionButtonIconBox,iconBoxElementId:d.descriptors.accountSwitcherActionButtonIconBox.setId("addAccount"),iconElementDescriptor:d.descriptors.accountSwitcherActionButtonIcon,iconElementId:d.descriptors.accountSwitcherActionButtonIcon.setId("addAccount"),icon:E.mm,label:(0,d.localizationKeys)("signIn.accountSwitcher.action__addAccount"),onClick:u,iconSx:e=>({width:e.sizes.$9,height:e.sizes.$6}),iconBoxSx:e=>({minHeight:e.sizes.$9,minWidth:e.sizes.$6,alignItems:"center"}),spinnerSize:"md"})]})})]}),(0,o.tZ)(B.Card.Footer,{sx:e=>({">:first-of-type":{padding:`${e.space.$1}`,width:"100%"}}),children:(0,o.tZ)(B.Card.Action,{sx:{width:"100%",">:first-of-type":{width:"100%",borderBottomWidth:0}},children:(0,o.tZ)(U.gW,{handleSignOutAllClicked:a,elementDescriptor:d.descriptors.accountSwitcherActionButton,elementId:d.descriptors.accountSwitcherActionButton.setId("signOutAll"),iconBoxElementDescriptor:d.descriptors.accountSwitcherActionButtonIconBox,iconBoxElementId:d.descriptors.accountSwitcherActionButtonIconBox.setId("signOutAll"),iconElementDescriptor:d.descriptors.accountSwitcherActionButtonIcon,iconElementId:d.descriptors.accountSwitcherActionButtonIcon.setId("signOutAll"),label:(0,d.localizationKeys)("signIn.accountSwitcher.action__signOutAll"),actionSx:e=>({padding:`${e.space.$2} ${e.space.$2}`})})})})]})})}));var R=r(1752),T=r(1085),x=r(6749),K=r(5747),M=r(138);let O=i.memo(e=>{let t=(0,n.cL)(),{navigate:r}=(0,h.useRouter)(),i=(0,F.v)(),{displayConfig:a}=(0,K.O)(),s=(0,c.useSignInContext)(),l=(0,c.useCoreSignIn)(),d=(0,x.wT)(s,a.signInUrl),u=s.afterSignInUrl||"/",p="popup"===s.oauthFlow||"auto"===s.oauthFlow&&(0,_.tc)();return(0,o.tZ)(M.L,{...e,idleAfterDelay:!p,oauthCallback:e=>{if(p){let t=window.open("about:blank","","width=600,height=800"),r=setInterval(()=>{(!t||t.closed)&&(clearInterval(r),i.setIdle())},500);return l.authenticateWithPopup({strategy:e,redirectUrl:d,redirectUrlComplete:u,popup:t}).catch(e=>(0,_.S3)(e,[],i.setError))}return l.authenticateWithRedirect({strategy:e,redirectUrl:d,redirectUrlComplete:u}).catch(e=>(0,_.S3)(e,[],i.setError))},web3Callback:e=>t.authenticateWithWeb3({customNavigate:r,redirectUrl:u,signUpContinueUrl:s.isCombinedFlow?"create/continue":s.signUpContinueUrl,strategy:e,secondFactorUrl:"factor-two"}).catch(e=>(0,_.Ht)(e,i.setError))})});var D=r(5518);function $(){let e=(0,c.useCoreSignIn)();return e.supportedFirstFactors?.find(({strategy:e})=>D.Vh(e))}var X=r(7389);let H=(e,t)=>{let[r,n]=i.useState(!1),a=i.useCallback(()=>n(e=>!e),[n]);return r?(0,o.tZ)(X.v,{onBackLinkClick:a}):(0,o.tZ)(e,{...t,onHavingTroubleClick:a})},N=e=>H(W,{...e}),W=e=>{let{onBackLinkClick:t,onHavingTroubleClick:r,onFactorSelected:n,mode:i="default"}=e,a=(0,F.v)(),s=$(),{supportedFirstFactors:l}=(0,c.useCoreSignIn)(),{firstPartyFactors:u,hasAnyStrategy:p}=(0,R.l)({filterOutFactor:e?.currentFactor,supportedFirstFactors:l}),h=function(e){switch(e){case"forgot":return"forgotPasswordMethods";case"pwned":return"passwordPwnedMethods";default:return"alternativeMethods"}}(i),m=function(e){switch(e){case"forgot":return(0,d.localizationKeys)("signIn.forgotPasswordAlternativeMethods.title");case"pwned":return(0,d.localizationKeys)("signIn.passwordPwned.title");default:return(0,d.localizationKeys)("signIn.alternativeMethods.title")}}(i),f=function(e){switch(e){case"forgot":case"pwned":return!0;default:return!1}}(i);return(0,o.tZ)(d.Flow.Part,{part:h,children:(0,o.BX)(B.Card.Root,{children:[(0,o.BX)(B.Card.Content,{children:[(0,o.BX)(B.Header.Root,{showLogo:!0,children:[(0,o.tZ)(B.Header.Title,{localizationKey:m}),!f&&(0,o.tZ)(B.Header.Subtitle,{localizationKey:(0,d.localizationKeys)("signIn.alternativeMethods.subtitle")})]}),(0,o.tZ)(B.Card.Alert,{children:a.error}),(0,o.BX)(d.Flex,{direction:"col",elementDescriptor:d.descriptors.main,gap:6,children:[f&&s&&(0,o.tZ)(d.Button,{localizationKey:V(s),elementDescriptor:d.descriptors.alternativeMethodsBlockButton,isDisabled:a.isLoading,onClick:()=>{a.setError(void 0),n(s)}}),f&&p&&(0,o.tZ)(B.Divider,{dividerText:(0,d.localizationKeys)("signIn.forgotPasswordAlternativeMethods.label__alternativeMethods")}),(0,o.BX)(d.Col,{gap:4,children:[p&&(0,o.BX)(d.Flex,{elementDescriptor:d.descriptors.alternativeMethods,direction:"col",gap:2,children:[(0,o.tZ)(O,{enableWeb3Providers:!0,enableOAuthProviders:!0}),u&&u.map((e,t)=>{var r;return(0,o.tZ)(B.ArrowBlockButton,{leftIcon:(r=e,({email_link:E.xP,email_code:E.GT,phone_code:E.iU,reset_password_email_code:E.ds,reset_password_phone_code:E.ds,password:E.kh,passkey:E.IG})[r.strategy]),textLocalizationKey:V(e),elementDescriptor:d.descriptors.alternativeMethodsBlockButton,textElementDescriptor:d.descriptors.alternativeMethodsBlockButtonText,arrowElementDescriptor:d.descriptors.alternativeMethodsBlockButtonArrow,textVariant:"buttonLarge",isDisabled:a.isLoading,onClick:()=>{a.setError(void 0),n(e)}},t)})]}),t&&(0,o.tZ)(B.BackLink,{boxElementDescriptor:d.descriptors.backRow,linkElementDescriptor:d.descriptors.backLink,onClick:t})]})]})]}),(0,o.tZ)(B.Card.Footer,{children:(0,o.BX)(B.Card.Action,{elementId:"havingTrouble",children:[(0,o.tZ)(B.Card.ActionText,{localizationKey:(0,d.localizationKeys)("signIn.alternativeMethods.actionText")}),(0,o.tZ)(B.Card.ActionLink,{localizationKey:(0,d.localizationKeys)("signIn.alternativeMethods.actionLink"),onClick:r})]})})]})})};function V(e){switch(e.strategy){case"email_link":return(0,d.localizationKeys)("signIn.alternativeMethods.blockButton__emailLink",{identifier:(0,_.HT)(e.safeIdentifier)||""});case"email_code":return(0,d.localizationKeys)("signIn.alternativeMethods.blockButton__emailCode",{identifier:(0,_.HT)(e.safeIdentifier)||""});case"phone_code":return(0,d.localizationKeys)("signIn.alternativeMethods.blockButton__phoneCode",{identifier:(0,_.HT)(e.safeIdentifier)||""});case"password":return(0,d.localizationKeys)("signIn.alternativeMethods.blockButton__password");case"passkey":return(0,d.localizationKeys)("signIn.alternativeMethods.blockButton__passkey");case"reset_password_email_code":case"reset_password_phone_code":return(0,d.localizationKeys)("signIn.forgotPasswordAlternativeMethods.blockButton__resetPassword");default:throw Error(`Invalid sign in strategy: "${e.strategy}"`)}}var G=r(3531);let j=e=>{let t=(0,c.useCoreSignIn)(),r=(0,B.useCardState)(),{navigate:i}=(0,h.useRouter)(),{afterSignInUrl:a}=(0,c.useSignInContext)(),{setActive:s}=(0,n.cL)(),l=(0,w.H)(),d=(0,n.cL)(),p="verified"===t.firstFactorVerification.status&&e.factorAlreadyPrepared;return(0,u.ib)(p?void 0:()=>t?.prepareFirstFactor(e.factor).then(()=>e.onFactorPrepare()).catch(e=>_.S3(e,[],r.setError)),{name:"signIn.prepareFirstFactor",factor:e.factor,id:t.id},{staleTime:100}),(0,o.tZ)(B.VerificationCodeCard,{cardTitle:e.cardTitle,cardSubtitle:e.cardSubtitle,inputLabel:e.inputLabel,resendButton:e.resendButton,onCodeEntryFinishedAction:(r,o,n)=>{t.attemptFirstFactor({strategy:e.factor.strategy,code:r}).then(async e=>{switch(await o(),e.status){case"complete":return s({session:e.createdSessionId,redirectUrl:a});case"needs_second_factor":return i("../factor-two");case"needs_new_password":return i("../reset-password");default:return console.error((0,v.Ws)(e.status,l))}}).catch(e=>(0,G.ay)(e)?d.__internal_navigateWithError("..",e.errors[0]):n(e))},onResendCodeClicked:()=>{!p&&t.prepareFirstFactor(e.factor).then(()=>e.onFactorPrepare()).catch(e=>(0,_.S3)(e,[],r.setError))},safeIdentifier:e.factor.safeIdentifier,profileImageUrl:t.userData.imageUrl,onShowAlternativeMethodsClicked:e.onShowAlternativeMethodsClicked,showAlternativeMethods:e.showAlternativeMethods,onIdentityPreviewEditClicked:()=>i("../"),onBackLinkClicked:e.onBackLinkClicked})},Y=e=>(0,o.tZ)(d.Flow.Part,{part:"emailCode",children:(0,o.tZ)(j,{...e,cardTitle:(0,d.localizationKeys)("signIn.emailCode.title"),cardSubtitle:(0,d.localizationKeys)("signIn.emailCode.subtitle"),inputLabel:(0,d.localizationKeys)("signIn.emailCode.formTitle"),resendButton:(0,d.localizationKeys)("signIn.emailCode.resendButton")})});var q=r(4814),J=r(5117);let Q=e=>{let{t}=(0,d.useLocalizations)(),r=(0,F.v)(),a=(0,c.useCoreSignIn)(),s=(0,c.useSignInContext)(),{signInUrl:l}=s,{navigate:u}=(0,J.t)(),{afterSignInUrl:p}=(0,c.useSignInContext)(),{setActive:h}=(0,n.cL)(),{startEmailLinkFlow:m,cancelEmailLinkFlow:f}=(0,q.E)(a),[g,I]=i.useState(!1),C=(0,n.cL)();i.useEffect(()=>{S()},[]);let S=()=>{m({emailAddressId:e.factor.emailAddressId,redirectUrl:(0,x.Uu)({ctx:s,baseUrl:l,intent:"sign-in"})}).then(e=>y(e)).catch(e=>{if((0,G.ay)(e))return C.__internal_navigateWithError("..",e.errors[0]);(0,_.S3)(e,[],r.setError)})},y=async e=>{let o=e.firstFactorVerification;"expired"===o.status?r.setError(t((0,d.localizationKeys)("formFieldError__verificationLinkExpired"))):o.verifiedFromTheSameClient()?I(!0):await v(e)},v=async e=>"complete"===e.status?h({session:e.createdSessionId,redirectUrl:p}):"needs_second_factor"===e.status?u("../factor-two"):void 0;return g?(0,o.tZ)(P.Ej,{title:(0,d.localizationKeys)("signIn.emailLink.verifiedSwitchTab.titleNewTab"),subtitle:(0,d.localizationKeys)("signIn.emailLink.verifiedSwitchTab.subtitleNewTab"),status:"verified_switch_tab"}):(0,o.tZ)(d.Flow.Part,{part:"emailLink",children:(0,o.tZ)(B.VerificationLinkCard,{cardTitle:(0,d.localizationKeys)("signIn.emailLink.title"),cardSubtitle:(0,d.localizationKeys)("signIn.emailLink.subtitle"),formTitle:(0,d.localizationKeys)("signIn.emailLink.formTitle"),formSubtitle:(0,d.localizationKeys)("signIn.emailLink.formSubtitle"),resendButton:(0,d.localizationKeys)("signIn.emailLink.resendButton"),onResendCodeClicked:()=>{f(),S()},safeIdentifier:e.factor.safeIdentifier,profileImageUrl:a.userData.imageUrl,onShowAlternativeMethodsClicked:e.onShowAlternativeMethodsClicked})})},ee=e=>(0,o.tZ)(d.Flow.Part,{part:"resetPassword",children:(0,o.tZ)(j,{...e,showAlternativeMethods:!1,cardTitle:(0,d.localizationKeys)("signIn.forgotPassword.title"),inputLabel:(0,d.localizationKeys)("signIn.forgotPassword.formTitle"),resendButton:(0,d.localizationKeys)("signIn.forgotPassword.resendButton")})});var et=r(3367);function er(e){let t=(0,B.useCardState)(),{setActive:r,__internal_navigateWithError:o}=(0,n.cL)(),a=(0,w.H)(),{afterSignInUrl:s}=(0,c.useSignInContext)(),{authenticateWithPasskey:l}=(0,c.useCoreSignIn)();return(0,i.useEffect)(()=>()=>{et.YI.abort()},[]),(0,i.useCallback)(async(...n)=>{try{let t=await l(...n);switch(t.status){case"complete":return r({session:t.createdSessionId,redirectUrl:s});case"needs_second_factor":return e();default:return console.error((0,v.Ws)(t.status,a))}}catch(r){let{flow:e}=n[0]||{};if((0,G.uX)(r)&&("passkey_operation_aborted"===r.code||"autofill"===e&&"passkey_retrieval_cancelled"===r.code))return;if((0,G.ay)(r))return o("..",r.errors[0]);(0,_.S3)(r,[],t.setError)}},[])}let eo=e=>{let{onShowAlternativeMethodsClick:t}=e,r=(0,B.useCardState)(),n=(0,c.useCoreSignIn)(),{navigate:a}=(0,J.t)(),[s,l]=i.useState(!1),u=i.useCallback(()=>l(e=>!e),[l]),p=er(()=>a("../factor-two"));return s?(0,o.tZ)(X.v,{onBackLinkClick:u}):(0,o.tZ)(d.Flow.Part,{part:"password",children:(0,o.BX)(B.Card.Root,{children:[(0,o.BX)(B.Card.Content,{children:[(0,o.BX)(B.Header.Root,{showLogo:!0,children:[(0,o.tZ)(d.Icon,{elementDescriptor:d.descriptors.passkeyIcon,icon:E.IG,sx:e=>({color:e.colors.$neutralAlpha500,marginInline:"auto",paddingBottom:e.sizes.$1,width:e.sizes.$12,height:e.sizes.$12})}),(0,o.tZ)(B.Header.Title,{localizationKey:(0,d.localizationKeys)("signIn.passkey.title")}),(0,o.tZ)(B.Header.Subtitle,{localizationKey:(0,d.localizationKeys)("signIn.passkey.subtitle")}),(0,o.tZ)(B.IdentityPreview,{identifier:n.identifier,avatarUrl:n.userData.imageUrl,onClick:()=>a("../")})]}),(0,o.tZ)(B.Card.Alert,{children:r.error}),(0,o.BX)(d.Flex,{direction:"col",elementDescriptor:d.descriptors.main,gap:4,children:[(0,o.tZ)(B.Form.Root,{onSubmit:e=>(e.preventDefault(),p()),gap:8,children:(0,o.tZ)(B.Form.SubmitButton,{hasArrow:!0})}),(0,o.tZ)(B.Card.Action,{elementId:t?"alternativeMethods":"havingTrouble",children:(0,o.tZ)(B.Card.ActionLink,{localizationKey:(0,d.localizationKeys)(t?"footerActionLink__useAnotherMethod":"signIn.alternativeMethods.actionLink"),onClick:t||u})})]})]}),(0,o.tZ)(B.Card.Footer,{})]})})},en=e=>{let{onForgotPasswordMethodClick:t,onShowAlternativeMethodsClick:r}=e,o=$(),n=(0,_.Yp)("password","",{type:"password",label:(0,d.localizationKeys)("formFieldLabel__password"),placeholder:(0,d.localizationKeys)("formFieldInputPlaceholder__password")});return{...n,props:{...n.props,actionLabel:o||r?(0,d.localizationKeys)("formFieldAction__forgotPassword"):"",onActionClicked:t||r||(()=>null)}}},ei=e=>{let{onShowAlternativeMethodsClick:t,onPasswordPwned:r}=e,a=i.useRef(null),s=(0,B.useCardState)(),{setActive:l}=(0,n.cL)(),u=(0,c.useCoreSignIn)(),{afterSignInUrl:p}=(0,c.useSignInContext)(),h=(0,w.H)(),m=en(e),{navigate:f}=(0,J.t)(),[g,I]=i.useState(!1),C=i.useCallback(()=>I(e=>!e),[I]),S=(0,n.cL)(),y=async e=>(e.preventDefault(),u.attemptFirstFactor({strategy:"password",password:m.value}).then(e=>{switch(e.status){case"complete":return l({session:e.createdSessionId,redirectUrl:p});case"needs_second_factor":return f("../factor-two");default:return console.error((0,v.Ws)(e.status,h))}}).catch(e=>{if((0,G.ay)(e))return S.__internal_navigateWithError("..",e.errors[0]);if((0,G.UZ)(e)&&r){s.setError({...e.errors[0],code:"form_password_pwned__sign_in"}),r();return}(0,_.S3)(e,[m],s.setError),setTimeout(()=>a.current?.focus(),0)}));return g?(0,o.tZ)(X.v,{onBackLinkClick:C}):(0,o.tZ)(d.Flow.Part,{part:"password",children:(0,o.BX)(B.Card.Root,{children:[(0,o.BX)(B.Card.Content,{children:[(0,o.BX)(B.Header.Root,{showLogo:!0,children:[(0,o.tZ)(B.Header.Title,{localizationKey:(0,d.localizationKeys)("signIn.password.title")}),(0,o.tZ)(B.Header.Subtitle,{localizationKey:(0,d.localizationKeys)("signIn.password.subtitle")}),(0,o.tZ)(B.IdentityPreview,{identifier:u.identifier,avatarUrl:u.userData.imageUrl,onClick:()=>f("../")})]}),(0,o.tZ)(B.Card.Alert,{children:s.error}),(0,o.BX)(d.Flex,{direction:"col",elementDescriptor:d.descriptors.main,gap:4,children:[(0,o.BX)(B.Form.Root,{onSubmit:y,gap:8,children:[(0,o.tZ)("input",{readOnly:!0,id:"identifier-field",name:"identifier",value:u.identifier||"",style:{display:"none"}}),(0,o.tZ)(B.Form.ControlRow,{elementId:m.id,children:(0,o.tZ)(B.Form.PasswordInput,{...m.props,ref:a,autoFocus:!0})}),(0,o.tZ)(B.Form.SubmitButton,{hasArrow:!0})]}),(0,o.tZ)(B.Card.Action,{elementId:t?"alternativeMethods":"havingTrouble",children:(0,o.tZ)(B.Card.ActionLink,{localizationKey:(0,d.localizationKeys)(t?"signIn.password.actionLink":"signIn.alternativeMethods.actionLink"),onClick:t||C})})]})]}),(0,o.tZ)(B.Card.Footer,{})]})})},ea=e=>{let{applicationName:t}=(0,c.useEnvironment)().displayConfig;return(0,o.tZ)(d.Flow.Part,{part:"phoneCode",children:(0,o.tZ)(j,{...e,cardTitle:(0,d.localizationKeys)("signIn.phoneCode.title"),cardSubtitle:(0,d.localizationKeys)("signIn.phoneCode.subtitle",{applicationName:t}),inputLabel:(0,d.localizationKeys)("signIn.phoneCode.formTitle"),resendButton:(0,d.localizationKeys)("signIn.phoneCode.resendButton")})})},es=e=>{if(!e)return"";let t=e.strategy;return"emailAddressId"in e&&(t+=e.emailAddressId),"phoneNumberId"in e&&(t+=e.phoneNumberId),t},el=(0,P.Hy)((0,B.withCardStateProvider)(function(){let e=(0,c.useCoreSignIn)(),{preferredSignInStrategy:t}=(0,c.useEnvironment)().displayConfig,r=e.supportedFirstFactors,n=(0,h.useRouter)(),a=(0,B.useCardState)(),{supportedFirstFactors:s}=(0,c.useCoreSignIn)(),l=i.useRef(""),[{currentFactor:d},u]=i.useState(()=>({currentFactor:(0,D.t3)(r,e.identifier,t),prevCurrentFactor:void 0})),{hasAnyStrategy:p}=(0,R.l)({filterOutFactor:d,supportedFirstFactors:s}),[m,f]=i.useState(()=>!d||!(0,D.xT)(d)),g=$(),[I,C]=i.useState(!1),[S,y]=i.useState(!1);if(i.useEffect(()=>{("needs_identifier"===e.status||null===e.status)&&n.navigate("../")},[]),!d&&e.status)return(0,o.tZ)(B.ErrorCard,{cardTitle:(0,T.u1)("signIn.noAvailableMethods.title"),cardSubtitle:(0,T.u1)("signIn.noAvailableMethods.subtitle"),message:(0,T.u1)("signIn.noAvailableMethods.message")});let v=p?()=>f(e=>!e):void 0,w=()=>C(e=>!e),_=()=>{l.current=es(d)},b=e=>{u(t=>({currentFactor:e,prevCurrentFactor:t.currentFactor}))};if(m||I){let e=(0,D.xT)(d),t=m?v:w;return(0,o.tZ)(N,{mode:I?S?"pwned":"forgot":"default",onBackLinkClick:e?()=>{a.setError(void 0),y(!1),t?.()}:void 0,onFactorSelected:e=>{b(e),t?.()},currentFactor:d})}if(!d)return(0,o.tZ)(B.LoadingCard,{});switch(d?.strategy){case"passkey":return(0,o.tZ)(eo,{onFactorPrepare:_,onShowAlternativeMethodsClick:v});case"password":return(0,o.tZ)(ei,{onForgotPasswordMethodClick:g?w:v,onShowAlternativeMethodsClick:v,onPasswordPwned:()=>{y(!0),w()}});case"email_code":return(0,o.tZ)(Y,{factorAlreadyPrepared:l.current===es(d),onFactorPrepare:_,factor:d,onShowAlternativeMethodsClicked:v});case"phone_code":return(0,o.tZ)(ea,{factorAlreadyPrepared:l.current===es(d),onFactorPrepare:_,factor:d,onShowAlternativeMethodsClicked:v});case"email_link":return(0,o.tZ)(Q,{factorAlreadyPrepared:l.current===es(d),onFactorPrepare:_,factor:d,onShowAlternativeMethodsClicked:v});case"reset_password_phone_code":return(0,o.tZ)(ee,{factorAlreadyPrepared:l.current===es(d),onFactorPrepare:_,factor:d,onShowAlternativeMethodsClicked:v,onBackLinkClicked:()=>{u(e=>({currentFactor:e.prevCurrentFactor,prevCurrentFactor:e.currentFactor})),w()},cardSubtitle:(0,T.u1)("signIn.forgotPassword.subtitle_phone")});case"reset_password_email_code":return(0,o.tZ)(ee,{factorAlreadyPrepared:l.current===es(d),onFactorPrepare:_,factor:d,onShowAlternativeMethodsClicked:v,onBackLinkClicked:()=>{u(e=>({currentFactor:e.prevCurrentFactor,prevCurrentFactor:e.currentFactor})),w()},cardSubtitle:(0,T.u1)("signIn.forgotPassword.subtitle_email")});default:return(0,o.tZ)(B.LoadingCard,{})}})),ec=e=>{let[t,r]=i.useState(!1),n=i.useCallback(()=>r(e=>!e),[r]);return t?(0,o.tZ)(X.v,{onBackLinkClick:n}):(0,o.tZ)(ed,{onBackLinkClick:e.onBackLinkClick,onFactorSelected:e.onFactorSelected,onHavingTroubleClick:n})},ed=e=>{let{onHavingTroubleClick:t,onFactorSelected:r,onBackLinkClick:n}=e,i=(0,F.v)(),{supportedSecondFactors:a}=(0,c.useCoreSignIn)();return(0,o.tZ)(d.Flow.Part,{part:"alternativeMethods",children:(0,o.BX)(B.Card.Root,{children:[(0,o.BX)(B.Card.Content,{children:[(0,o.BX)(B.Header.Root,{showLogo:!0,children:[(0,o.tZ)(B.Header.Title,{localizationKey:(0,d.localizationKeys)("signIn.alternativeMethods.title")}),(0,o.tZ)(B.Header.Subtitle,{localizationKey:(0,d.localizationKeys)("signIn.alternativeMethods.subtitle")})]}),(0,o.tZ)(B.Card.Alert,{children:i.error}),(0,o.BX)(d.Col,{elementDescriptor:d.descriptors.main,gap:3,children:[(0,o.tZ)(d.Col,{gap:2,children:a&&a.sort(_.Q0).map((e,t)=>(0,o.tZ)(B.ArrowBlockButton,{textLocalizationKey:function(e){switch(e.strategy){case"phone_code":return(0,d.localizationKeys)("signIn.alternativeMethods.blockButton__phoneCode",{identifier:(0,_.HT)(e.safeIdentifier)||""});case"totp":return(0,d.localizationKeys)("signIn.alternativeMethods.blockButton__totp");case"backup_code":return(0,d.localizationKeys)("signIn.alternativeMethods.blockButton__backupCode");default:throw Error(`Invalid sign in strategy: "${e.strategy}"`)}}(e),elementDescriptor:d.descriptors.alternativeMethodsBlockButton,textElementDescriptor:d.descriptors.alternativeMethodsBlockButtonText,arrowElementDescriptor:d.descriptors.alternativeMethodsBlockButtonArrow,isDisabled:i.isLoading,onClick:()=>r(e)},t))}),(0,o.tZ)(B.Card.Action,{elementId:"alternativeMethods",children:n&&(0,o.tZ)(B.Card.ActionLink,{localizationKey:(0,d.localizationKeys)("backButton"),onClick:e.onBackLinkClick})})]})]}),(0,o.tZ)(B.Card.Footer,{children:(0,o.BX)(B.Card.Action,{elementId:"havingTrouble",children:[(0,o.tZ)(B.Card.ActionText,{localizationKey:(0,d.localizationKeys)("signIn.alternativeMethods.actionText")}),(0,o.tZ)(B.Card.ActionLink,{localizationKey:(0,d.localizationKeys)("signIn.alternativeMethods.actionLink"),onClick:t})]})})]})})},eu=e=>{let{onShowAlternativeMethodsClicked:t}=e,r=(0,c.useCoreSignIn)(),{afterSignInUrl:i}=(0,c.useSignInContext)(),{setActive:a}=(0,n.cL)(),{navigate:s}=(0,h.useRouter)(),l=(0,w.H)(),u=(0,B.useCardState)(),p=(0,_.Yp)("code","",{type:"text",label:(0,d.localizationKeys)("formFieldLabel__backupCode"),isRequired:!0}),m=(0,n.cL)(),f=e=>(0,D.Vh)(e.firstFactorVerification?.strategy)&&e.firstFactorVerification?.status==="verified";return(0,o.BX)(B.Card.Root,{children:[(0,o.BX)(B.Card.Content,{children:[(0,o.BX)(B.Header.Root,{showLogo:!0,children:[(0,o.tZ)(B.Header.Title,{localizationKey:(0,d.localizationKeys)("signIn.backupCodeMfa.title")}),(0,o.tZ)(B.Header.Subtitle,{localizationKey:f(r)?(0,d.localizationKeys)("signIn.forgotPassword.subtitle"):(0,d.localizationKeys)("signIn.backupCodeMfa.subtitle")})]}),(0,o.tZ)(B.Card.Alert,{children:u.error}),(0,o.tZ)(d.Col,{elementDescriptor:d.descriptors.main,gap:8,children:(0,o.BX)(B.Form.Root,{onSubmit:e=>(e.preventDefault(),r.attemptSecondFactor({strategy:"backup_code",code:p.value}).then(e=>{if("complete"===e.status){if(f(e)&&e.createdSessionId){let t=new URLSearchParams;return t.set("createdSessionId",e.createdSessionId),s(`../reset-password-success?${t.toString()}`)}return a({session:e.createdSessionId,redirectUrl:i})}return console.error((0,v.Ws)(e.status,l))}).catch(e=>{if((0,G.ay)(e))return m.__internal_navigateWithError("..",e.errors[0]);(0,_.S3)(e,[p],u.setError)})),children:[(0,o.tZ)(B.Form.ControlRow,{elementId:p.id,children:(0,o.tZ)(B.Form.PlainInput,{...p.props,autoFocus:!0,onActionClicked:t})}),(0,o.BX)(d.Col,{gap:3,children:[(0,o.tZ)(B.Form.SubmitButton,{hasArrow:!0}),(0,o.tZ)(B.Card.Action,{elementId:"alternativeMethods",children:t&&(0,o.tZ)(B.Card.ActionLink,{localizationKey:(0,d.localizationKeys)("footerActionLink__useAnotherMethod"),onClick:t})})]})]})})]}),(0,o.tZ)(B.Card.Footer,{})]})},ep=e=>{let t=(0,c.useCoreSignIn)(),r=(0,B.useCardState)(),{afterSignInUrl:a}=(0,c.useSignInContext)(),{setActive:s}=(0,n.cL)(),{navigate:l}=(0,h.useRouter)(),u=(0,w.H)(),p=(0,n.cL)();i.useEffect(()=>{!e.factorAlreadyPrepared&&m?.()},[]);let m=e.prepare?()=>e.prepare?.().then(()=>e.onFactorPrepare()).catch(e=>{if(G.ay(e))return p.__internal_navigateWithError("..",e.errors[0]);_.S3(e,[],r.setError)}):void 0,f=e=>(0,D.Vh)(e.firstFactorVerification?.strategy)&&e.firstFactorVerification?.status==="verified";return(0,o.tZ)(B.VerificationCodeCard,{cardTitle:e.cardTitle,cardSubtitle:f(t)?(0,d.localizationKeys)("signIn.forgotPassword.subtitle"):e.cardSubtitle,resendButton:e.resendButton,inputLabel:e.inputLabel,onCodeEntryFinishedAction:(r,o,n)=>{t.attemptSecondFactor({strategy:e.factor.strategy,code:r}).then(async e=>{if(await o(),"complete"===e.status){if(f(e)&&e.createdSessionId){let t=new URLSearchParams;return t.set("createdSessionId",e.createdSessionId),l(`../reset-password-success?${t.toString()}`)}return s({session:e.createdSessionId,redirectUrl:a})}return console.error((0,v.Ws)(e.status,u))}).catch(e=>(0,G.ay)(e)?p.__internal_navigateWithError("..",e.errors[0]):n(e))},onResendCodeClicked:m,safeIdentifier:"safeIdentifier"in e.factor?e.factor.safeIdentifier:void 0,profileImageUrl:t.userData.imageUrl,onShowAlternativeMethodsClicked:e.onShowAlternativeMethodsClicked,children:f(t)&&(0,o.tZ)(d.Text,{localizationKey:(0,d.localizationKeys)("signIn.resetPasswordMfa.detailsLabel"),colorScheme:"secondary"})})},eh=e=>{let t=(0,c.useCoreSignIn)();return(0,o.tZ)(d.Flow.Part,{part:"phoneCode2Fa",children:(0,o.tZ)(ep,{...e,cardTitle:(0,d.localizationKeys)("signIn.phoneCodeMfa.title"),cardSubtitle:(0,d.localizationKeys)("signIn.phoneCodeMfa.subtitle"),inputLabel:(0,d.localizationKeys)("signIn.phoneCodeMfa.formTitle"),resendButton:(0,d.localizationKeys)("signIn.phoneCodeMfa.resendButton"),prepare:()=>{let{phoneNumberId:r,strategy:o}=e.factor;return t.prepareSecondFactor({phoneNumberId:r,strategy:o})}})})},em=e=>(0,o.tZ)(d.Flow.Part,{part:"totp2Fa",children:(0,o.tZ)(ep,{...e,cardTitle:(0,d.localizationKeys)("signIn.totpMfa.title"),cardSubtitle:(0,d.localizationKeys)("signIn.totpMfa.subtitle"),inputLabel:(0,d.localizationKeys)("signIn.totpMfa.formTitle")})}),ef=e=>{if(!e)return"";let t=e.strategy;return"phoneNumberId"in e&&(t+=e.phoneNumberId),t},eg=(0,P.Hy)((0,B.withCardStateProvider)(function(){let e=(0,c.useCoreSignIn)().supportedSecondFactors,t=i.useRef(""),[r,n]=i.useState(()=>(0,D.bx)(e)),[a,s]=i.useState(!r),l=()=>s(e=>!e),d=()=>{t.current=ef(r)};if(!r)return(0,o.tZ)(B.LoadingCard,{});if(a)return(0,o.tZ)(ec,{onBackLinkClick:l,onFactorSelected:e=>{n(e),l()}});switch(r?.strategy){case"phone_code":return(0,o.tZ)(eh,{factorAlreadyPrepared:t.current===ef(r),onFactorPrepare:d,factor:r,onShowAlternativeMethodsClicked:l});case"totp":return(0,o.tZ)(em,{factorAlreadyPrepared:t.current===ef(r),onFactorPrepare:d,factor:r,onShowAlternativeMethodsClicked:l});case"backup_code":return(0,o.tZ)(eu,{onShowAlternativeMethodsClicked:l});default:return(0,o.tZ)(B.LoadingCard,{})}})),eI=(0,P.Hy)(P.L);var eC=r(2208),eS=r(753),ey=r(6917),ev=r(3423);let eB=()=>{let[e,t]=(0,i.useState)(!1),{navigate:r}=(0,h.useRouter)(),o=er(()=>r("factor-two")),{userSettings:n}=(0,c.useEnvironment)(),{passkeySettings:a,attributes:s}=n;return(0,i.useEffect)(()=>{async function e(){let e=await (0,eC.h_)();t(e),e&&await o({flow:"autofill"})}a.allow_autofill&&s.passkey?.enabled&&e()},[]),{isWebAuthnAutofillSupported:e}},ew=({field:e})=>{let[t,r]=(0,i.useState)(!1),n=(0,i.useRef)(null),a=!!(t||e?.value);return((0,i.useLayoutEffect)(()=>{let e=setInterval(()=>{if(n?.current){let t="onAutoFillStart"===window.getComputedStyle(n.current,":autofill").animationName||!!n.current?.matches("*:-webkit-autofill");t&&(r(t),clearInterval(e))}},500);return()=>{clearInterval(e)}},[]),(0,i.useEffect)(()=>{e?.value&&""!==e.value&&r(!1)},[e?.value]),e)?(0,o.tZ)(B.Form.ControlRow,{elementId:e.id,sx:a?void 0:{position:"absolute",opacity:0,height:0,pointerEvents:"none",marginTop:"-1rem"},children:(0,o.tZ)(B.Form.PasswordInput,{...e.props,ref:n,tabIndex:a?void 0:-1})}):null},e_=(0,P.Hy)((0,B.withCardStateProvider)(function(){let e=(0,B.useCardState)(),t=(0,n.cL)(),r=(0,u._m)(),{displayConfig:a,userSettings:s}=(0,c.useEnvironment)(),l=(0,c.useCoreSignIn)(),{navigate:p}=(0,h.useRouter)(),m=(0,c.useSignInContext)(),{afterSignInUrl:f,signUpUrl:g,waitlistUrl:I,isCombinedFlow:C}=m,S=(0,w.H)(),b=(0,i.useMemo)(()=>(0,P.vX)(s.enabledFirstFactorIdentifiers),[s.enabledFirstFactorIdentifiers]),{isWebAuthnAutofillSupported:A}=eB(),k=er(()=>p("factor-two")),Z=(0,eC.iW)(),F=!!m.initialValues?.phoneNumber&&!(m.initialValues.emailAddress||m.initialValues.username)&&b.includes("phone_number"),[E,U]=(0,i.useState)(F?"phone_number":b[0]||""),[z,L]=(0,i.useState)(!1),R=(0,ey.XV)("__clerk_ticket")||"",T=(0,ey.XV)("__clerk_status")||"",x=s.enabledFirstFactorIdentifiers,K=s.web3FirstFactors,M=s.authenticatableSocialStrategies,$=s.instanceIsPasswordBased,{currentIdentifier:X,nextIdentifier:H}=(0,P.vO)(b,E),N=(0,_.Yp)("password","",{type:"password",label:(0,d.localizationKeys)("formFieldLabel__password"),placeholder:(0,d.localizationKeys)("formFieldInputPlaceholder__password")}),W=m.initialValues||{},V=(0,i.useMemo)(()=>({email_address:W.emailAddress,email_address_username:W.emailAddress||W.username,username:W.username,phone_number:W.phoneNumber}),[m.initialValues]),G=!!M.length||!!K.length,[j,Y]=(0,i.useState)(!(0,_.s2)()&&!G),q=(0,_.Yp)("identifier",V[E]||"",{...X,isRequired:!0,transformer:e=>e.trim()}),J=(0,_.Yp)("identifier",V.phone_number||"",{...X,isRequired:!0}),Q="phone_number"===E?J:q,ee=e=>{q.setValue(V[E]||""),J.setValue(e),U("phone_number"),Y(!0)};(0,i.useLayoutEffect)(()=>{Q.value.startsWith("+")&&b.includes("phone_number")&&"phone_number"!==E&&!z&&(ee(Q.value),L(!0))},[Q.value,b]),(0,i.useEffect)(()=>{if(R){if("sign_up"===T){let e=new URLSearchParams;R&&e.set("__clerk_ticket",R),p(C?"create":g,{searchParams:e});return}r.setLoading(),e.setLoading(),l.create({strategy:"ticket",ticket:R}).then(e=>{switch(e.status){case"needs_first_factor":return p("factor-one");case"needs_second_factor":return p("factor-two");case"complete":return(0,ey.xy)("__clerk_ticket"),t.setActive({session:e.createdSessionId,redirectUrl:f});default:console.error((0,v.Ws)(e.status,S));return}}).catch(e=>ea(e)).finally(()=>{r.setIdle(),e.setIdle()})}},[]),(0,i.useEffect)(()=>{(async function(){let t=l?.firstFactorVerification?.error;if(t){switch(t.code){case eS.O1.NOT_ALLOWED_TO_SIGN_UP:case eS.O1.OAUTH_ACCESS_DENIED:case eS.O1.NOT_ALLOWED_ACCESS:case eS.O1.SAML_USER_ATTRIBUTE_MISSING:case eS.O1.OAUTH_EMAIL_DOMAIN_RESERVED_BY_SAML:case eS.O1.USER_LOCKED:case eS.O1.EXTERNAL_ACCOUNT_NOT_FOUND:case eS.O1.SIGN_UP_MODE_RESTRICTED:case eS.O1.SIGN_UP_MODE_RESTRICTED_WAITLIST:case eS.O1.ENTERPRISE_SSO_USER_ATTRIBUTE_MISSING:case eS.O1.ENTERPRISE_SSO_EMAIL_ADDRESS_DOMAIN_MISMATCH:case eS.O1.ENTERPRISE_SSO_HOSTED_DOMAIN_MISMATCH:case eS.O1.SAML_EMAIL_ADDRESS_DOMAIN_MISMATCH:case eS.O1.ORGANIZATION_MEMBERSHIP_QUOTA_EXCEEDED_FOR_SSO:case eS.O1.CAPTCHA_INVALID:case eS.O1.FRAUD_DEVICE_BLOCKED:case eS.O1.FRAUD_ACTION_BLOCKED:e.setError(t);break;default:e.setError("Unable to complete action at this time. If the problem persists please contact support.")}await l.create({})}})()},[]);let et=e=>{let t=e.some(e=>"password"===e.name&&!!e.value);return(!t||s.enterpriseSSO.enabled)&&(e=e.filter(e=>"password"!==e.name)),{...(0,_.ni)(e),...t&&!s.enterpriseSSO.enabled&&{strategy:"password"}}},eo=(e,t)=>e.then(e=>{if(!s.enterpriseSSO.enabled)return e;let r=t.find(e=>"password"===e.name)?.value;return!r||e.supportedFirstFactors?.some(e=>"saml"===e.strategy||"enterprise_sso"===e.strategy)?e:e.attemptFirstFactor({strategy:"password",password:r})}),en=async(...e)=>{try{let r=await eo(l.create(et(e)),e);switch(r.status){case"needs_identifier":r.supportedFirstFactors?.some(e=>"saml"===e.strategy||"enterprise_sso"===e.strategy)&&await ei();break;case"needs_first_factor":if(r.supportedFirstFactors?.every(e=>"enterprise_sso"===e.strategy)){await ei();break}return p("factor-one");case"needs_second_factor":return p("factor-two");case"complete":return t.setActive({session:r.createdSessionId,redirectUrl:f});default:console.error((0,v.Ws)(r.status,S));return}}catch(e){return ea(e)}},ei=async()=>{let e=(0,P.wT)(m,a.signInUrl),t=m.afterSignInUrl||"/";return l.authenticateWithRedirect({strategy:"enterprise_sso",redirectUrl:e,redirectUrlComplete:t})},ea=async r=>{if(!r.errors)return;let o=r.errors.find(e=>e.code===eS.O1.INVALID_STRATEGY_FOR_USER||e.code===eS.O1.FORM_PASSWORD_INCORRECT||e.code===eS.O1.FORM_PASSWORD_PWNED),n=r.errors.find(e=>"identifier_already_signed_in"===e.code),i=r.errors.find(e=>e.code===eS.O1.INVITATION_ACCOUNT_NOT_EXISTS||e.code===eS.O1.FORM_IDENTIFIER_NOT_FOUND);if(o)await en(Q);else if(n){let e=n.meta.sessionId;await t.setActive({session:e,redirectUrl:f})}else if(C&&i){let r=(0,D.s2)(Q);if(s.signUp.mode===eS.ci.WAITLIST)return p(t.buildWaitlistUrl("emailAddress"===r?{initialValues:{[r]:Q.value}}:{}));t.client.signUp[r]=Q.value;let o=(0,P.wT)(m,a.signUpUrl),n=m.afterSignUpUrl||"/";return function({identifierAttribute:e,identifierValue:t,signUpMode:r,navigate:o,organizationTicket:n,afterSignUpUrl:i,clerk:a,handleError:s,redirectUrl:l,redirectUrlComplete:c,passwordEnabled:d}){if(r===eS.ci.WAITLIST)return o(a.buildWaitlistUrl("emailAddress"===e?{initialValues:{[e]:t}}:{}));a.client.signUp[e]=t;let u=new URLSearchParams;return(n&&u.set("__clerk_ticket",n),d||a.client.signUp.optionalFields.filter(e=>!e.startsWith("oauth_")&&!e.startsWith("web3_")&&"password"!==e&&"enterprise_sso"!==e&&"saml"!==e).length>0||"emailAddress"!==e&&"phoneNumber"!==e)?o("create",{searchParams:u}):a.client.signUp.create({[e]:t}).then(async e=>(await y())({signUp:e,verifyEmailPath:"create/verify-email-address",verifyPhonePath:"create/verify-phone-number",handleComplete:()=>a.setActive({session:e.createdSessionId,redirectUrl:i}),navigate:o,redirectUrl:l,redirectUrlComplete:c})).catch(e=>s(e))}({afterSignUpUrl:m.afterSignUpUrl||"/",clerk:t,handleError:t=>(0,_.S3)(t,[Q,N],e.setError),identifierAttribute:r,identifierValue:Q.value,navigate:p,organizationTicket:R,signUpMode:s.signUp.mode,redirectUrl:o,redirectUrlComplete:n,passwordEnabled:s.attributes.password?.required??!1})}else(0,_.S3)(r,[Q,N],e.setError)},es=async e=>(e.preventDefault(),en(Q,N)),el=(0,i.useMemo)(()=>({tel:B.Form.PhoneInput,password:B.Form.PasswordInput,text:B.Form.PlainInput,email:B.Form.PlainInput})[Q.type],[Q.type]);if(r.isLoading||"sign_up"===T)return(0,o.tZ)(B.LoadingCard,{});let{action:ec,...ed}=Q.props;return(0,o.tZ)(d.Flow.Part,{part:"start",children:(0,o.BX)(B.Card.Root,{children:[(0,o.BX)(B.Card.Content,{children:[(0,o.BX)(B.Header.Root,{showLogo:!0,children:[(0,o.tZ)(B.Header.Title,{localizationKey:C?(0,d.localizationKeys)("signIn.start.titleCombined"):(0,d.localizationKeys)("signIn.start.title")}),(0,o.tZ)(B.Header.Subtitle,{localizationKey:C?(0,d.localizationKeys)("signIn.start.subtitleCombined"):(0,d.localizationKeys)("signIn.start.subtitle"),sx:{"&:empty":{display:"none"}}})]}),(0,o.tZ)(B.Card.Alert,{children:e.error}),(0,o.BX)(d.Col,{elementDescriptor:d.descriptors.main,gap:6,children:[(0,o.BX)(B.SocialButtonsReversibleContainerWithDivider,{children:[G&&(0,o.tZ)(O,{enableWeb3Providers:!0,enableOAuthProviders:!0}),x.length?(0,o.BX)(B.Form.Root,{onSubmit:es,gap:8,children:[(0,o.BX)(d.Col,{gap:6,children:[(0,o.tZ)(B.Form.ControlRow,{elementId:Q.id,children:(0,o.tZ)(el,{actionLabel:H?.action,onActionClicked:()=>{U(e=>b[(b.indexOf(e)+1)%b.length]),Y(!0),L(!1)},...ed,autoFocus:j,autoComplete:A?"webauthn":void 0})}),(0,o.tZ)(ew,{field:$?N:void 0})]}),(0,o.BX)(d.Col,{center:!0,children:[(0,o.tZ)(ev.S,{}),(0,o.tZ)(B.Form.SubmitButton,{hasArrow:!0})]})]}):null]}),!x.length&&(0,o.tZ)(ev.S,{}),s.attributes.passkey?.enabled&&s.passkeySettings.show_sign_in_button&&Z&&(0,o.tZ)(B.Card.Action,{elementId:"usePasskey",children:(0,o.tZ)(B.Card.ActionLink,{localizationKey:(0,d.localizationKeys)("signIn.start.actionLink__use_passkey"),onClick:()=>k({flow:"discoverable"})})})]})]}),(0,o.BX)(B.Card.Footer,{children:[s.signUp.mode===eS.ci.PUBLIC&&!C&&(0,o.BX)(B.Card.Action,{elementId:"signIn",children:[(0,o.tZ)(B.Card.ActionText,{localizationKey:(0,d.localizationKeys)("signIn.start.actionText")}),(0,o.tZ)(B.Card.ActionLink,{localizationKey:(0,d.localizationKeys)("signIn.start.actionLink"),to:t.buildUrlWithAuth(g)})]}),s.signUp.mode===eS.ci.WAITLIST&&(0,o.BX)(B.Card.Action,{elementId:"signIn",children:[(0,o.tZ)(B.Card.ActionText,{localizationKey:(0,d.localizationKeys)("signIn.start.actionText__join_waitlist")}),(0,o.tZ)(B.Card.ActionLink,{localizationKey:(0,d.localizationKeys)("signIn.start.actionLink__join_waitlist"),to:t.buildUrlWithAuth(I)})]})]})]})})}));function eb(){let e=(0,n.cL)();return i.useEffect(()=>{e.redirectToSignIn()},[]),null}function eA(){let e=(0,c.useSignInContext)(),t=(0,c.useSignUpContext)();return(0,o.tZ)(d.Flow.Root,{flow:"signIn",children:(0,o.BX)(h.Switch,{children:[(0,o.tZ)(h.Route,{path:"factor-one",children:(0,o.tZ)(el,{})}),(0,o.tZ)(h.Route,{path:"factor-two",children:(0,o.tZ)(eg,{})}),(0,o.tZ)(h.Route,{path:"reset-password",children:(0,o.tZ)(b,{})}),(0,o.tZ)(h.Route,{path:"reset-password-success",children:(0,o.tZ)(Z,{})}),(0,o.tZ)(h.Route,{path:"sso-callback",children:(0,o.tZ)(eI,{signUpUrl:e.signUpUrl,signInUrl:e.signInUrl,signInForceRedirectUrl:e.afterSignInUrl,signUpForceRedirectUrl:e.afterSignUpUrl,continueSignUpUrl:e.signUpContinueUrl,transferable:e.transferable,firstFactorUrl:"../factor-one",secondFactorUrl:"../factor-two",resetPasswordUrl:"../reset-password"})}),(0,o.tZ)(h.Route,{path:"choose",children:(0,o.tZ)(L,{})}),(0,o.tZ)(h.Route,{path:"verify",children:(0,o.tZ)(l.J,{redirectUrlComplete:e.afterSignInUrl,redirectUrl:"../factor-two"})}),e.isCombinedFlow&&(0,o.BX)(h.Route,{path:"create",children:[(0,o.tZ)(h.Route,{path:"verify-email-address",canActivate:e=>!!e.client.signUp.emailAddress,children:(0,o.tZ)(g,{})}),(0,o.tZ)(h.Route,{path:"verify-phone-number",canActivate:e=>!!e.client.signUp.phoneNumber,children:(0,o.tZ)(f,{})}),(0,o.tZ)(h.Route,{path:"sso-callback",children:(0,o.tZ)(C,{signUpUrl:t.signUpUrl,signInUrl:t.signInUrl,signUpForceRedirectUrl:t.afterSignUpUrl,signInForceRedirectUrl:t.afterSignInUrl,secondFactorUrl:t.secondFactorUrl,continueSignUpUrl:"../continue",verifyEmailAddressUrl:"../verify-email-address",verifyPhoneNumberUrl:"../verify-phone-number"})}),(0,o.tZ)(h.Route,{path:"verify",children:(0,o.tZ)(l.$,{redirectUrlComplete:t.afterSignUpUrl,verifyEmailPath:"../verify-email-address",verifyPhonePath:"../verify-phone-number",continuePath:"../continue"})}),(0,o.BX)(h.Route,{path:"continue",children:[(0,o.tZ)(h.Route,{path:"verify-email-address",canActivate:e=>!!e.client.signUp.emailAddress,children:(0,o.tZ)(g,{})}),(0,o.tZ)(h.Route,{path:"verify-phone-number",canActivate:e=>!!e.client.signUp.phoneNumber,children:(0,o.tZ)(f,{})}),(0,o.tZ)(h.Route,{path:"tasks",children:(0,o.tZ)(a.x7,{})}),(0,o.tZ)(h.Route,{index:!0,children:(0,o.tZ)(S,{})})]}),(0,o.tZ)(h.Route,{index:!0,children:(0,o.tZ)(I,{})})]}),(0,o.tZ)(h.Route,{path:"tasks",children:(0,o.tZ)(a.x7,{})}),(0,o.tZ)(h.Route,{index:!0,children:(0,o.tZ)(e_,{})}),(0,o.tZ)(h.Route,{children:(0,o.tZ)(eb,{})})]})})}let ek=(e=!1)=>(0,u.ib)(e?m:void 0,"preloadComponent",{staleTime:1/0});eA.displayName="SignIn";let eZ=(0,c.withCoreSessionSwitchGuard)(function(){let{__internal_setComponentNavigationContext:e}=(0,n.cL)(),{navigate:t,indexPath:r}=(0,h.useRouter)(),a=(0,c.useSignInContext)(),l={componentName:"SignUp",emailLinkRedirectUrl:a.emailLinkRedirectUrl,ssoCallbackUrl:a.ssoCallbackUrl,forceRedirectUrl:a.signUpForceRedirectUrl,fallbackRedirectUrl:a.signUpFallbackRedirectUrl,signInUrl:a.signInUrl,unsafeMetadata:a.unsafeMetadata,...(0,s.L)({routing:a?.routing,path:a?.path})};return ek(a.isCombinedFlow),(0,p.z)(),i.useEffect(()=>e?.({indexPath:r,navigate:t}),[r,t]),(0,o.tZ)(c.SignUpContext.Provider,{value:l,children:(0,o.tZ)(eA,{})})}),eP=e=>{let t={signUpUrl:`/${h.VIRTUAL_ROUTER_BASE_PATH}/sign-up`,waitlistUrl:`/${h.VIRTUAL_ROUTER_BASE_PATH}/waitlist`,...e};return(0,o.tZ)(h.Route,{path:"sign-in",children:(0,o.tZ)(c.SignInContext.Provider,{value:{componentName:"SignIn",...t,routing:"virtual",mode:"modal"},children:(0,o.tZ)("div",{children:(0,o.tZ)(eZ,{...t,routing:"virtual"})})})})}},5518:function(e,t,r){r.d(t,{Vh:()=>h,bx:()=>u,s2:()=>f,t3:()=>l,xT:()=>d}),r(5027);var o=r(2208),n=r(7772),i=r(577);let a=e=>t=>"safeIdentifier"in t&&t.safeIdentifier===e;function s(e){if((0,o.iW)()){let t=e.find(({strategy:e})=>"passkey"===e);if(t)return t}return null}function l(e,t,r){return e&&0!==e.length?r===n.kJ.Password?function(e,t){let r=s(e);if(r)return r;let o=e.sort(i.sZ)[0];return"password"===o.strategy?o:e.find(a(t))||o||null}(e,t):function(e,t){let r=s(e);if(r)return r;let o=e.sort(i.b8),n=o.find(a(t));if(n)return n;let l=o[0];return"email_link"===l.strategy?l:e.find(a(t))||l||null}(e,t):null}let c=["passkey","email_code","password","phone_code","email_link"];function d(e){return!!e&&c.includes(e.strategy)}function u(e){if(!e||0===e.length)return null;let t=e.find(e=>"totp"===e.strategy);if(t)return t;let r=e.find(e=>"phone_code"===e.strategy);return r||e[0]}let p=["reset_password_phone_code","reset_password_email_code"],h=e=>!!e&&p.includes(e),m=e=>/^\S+@\S+\.\S+$/.test(e);function f(e){return"tel"===e.type?"phoneNumber":m(e.value)?"emailAddress":"username"}},9327:function(e,t,r){r.d(t,{fB:()=>d,gW:()=>p,uj:()=>u});var o=r(8635),n=r(4676),i=r(1673),a=r(3812),s=r(3064),l=r(3805),c=r(3610);let d=e=>{let{navigate:t}=(0,n.useRouter)(),{handleManageAccountClicked:r,handleSignOutSessionClicked:c,handleUserProfileActionClicked:d,session:u}=e,{menutItems:p}=(0,a.useUserButtonContext)(),h=e=>({borderTopWidth:e.borderWidths.$normal,borderTopStyle:e.borderStyles.$solid,borderTopColor:e.colors.$neutralAlpha100,padding:`${e.space.$4} ${e.space.$5}`}),m=async o=>o?.path?(await t(o.path),e?.completedCallback()):o.id===i.Zb.MANAGE_ACCOUNT?await r():o?.open?d(o.open):(o.onClick?.(),e?.completedCallback());return(0,o.tZ)(l.Actions,{role:"menu",elementDescriptor:s.descriptors.userButtonPopoverActions,elementId:s.descriptors.userButtonPopoverActions.setId("singleSession"),sx:e=>({borderTopWidth:e.borderWidths.$normal,borderTopStyle:e.borderStyles.$solid,borderTopColor:e.colors.$neutralAlpha100}),children:p?.map(e=>{let t;return t=Object.values(i.Zb).includes(e.id)?{elementDescriptor:s.descriptors.userButtonPopoverActionButton,elementId:s.descriptors.userButtonPopoverActionButton.setId(e.id),iconBoxElementDescriptor:s.descriptors.userButtonPopoverActionButtonIconBox,iconBoxElementId:s.descriptors.userButtonPopoverActionButtonIconBox.setId(e.id),iconElementDescriptor:s.descriptors.userButtonPopoverActionButtonIcon,iconElementId:s.descriptors.userButtonPopoverActionButtonIcon.setId(e.id)}:{elementDescriptor:s.descriptors.userButtonPopoverCustomItemButton,elementId:s.descriptors.userButtonPopoverCustomItemButton.setId(e.id),iconBoxElementDescriptor:s.descriptors.userButtonPopoverCustomItemButtonIconBox,iconBoxElementId:s.descriptors.userButtonPopoverCustomItemButtonIconBox.setId(e.id),iconElementDescriptor:s.descriptors.userButtonPopoverActionItemButtonIcon,iconElementId:s.descriptors.userButtonPopoverActionItemButtonIcon.setId(e.id)},o.tZ(l.Action,{...t,icon:e.icon,label:e.name,onClick:e.id===i.Zb.SIGN_OUT?c(u):()=>m(e),sx:h,iconSx:e=>({width:e.sizes.$4,height:e.sizes.$4})},e.id)})})},u=e=>{let{navigate:t}=(0,n.useRouter)(),{handleManageAccountClicked:r,handleSignOutSessionClicked:d,handleSessionClicked:u,handleAddAccountClicked:p,handleUserProfileActionClicked:h,session:m,otherSessions:f}=e,{menutItems:g}=(0,a.useUserButtonContext)(),I=async o=>o?.path?(await t(o.path),e?.completedCallback()):o.id===i.Zb.MANAGE_ACCOUNT?await r():o?.open?h(o.open):(o.onClick?.(),e?.completedCallback()),C=g.every(e=>Object.values(i.Zb).includes(e.id));return(0,o.BX)(o.HY,{children:[C?(0,o.tZ)(l.SmallActions,{role:"menu",elementDescriptor:s.descriptors.userButtonPopoverActions,elementId:s.descriptors.userButtonPopoverActions.setId("multiSession"),children:(0,o.BX)(s.Flex,{justify:"between",sx:e=>({marginLeft:e.space.$12,padding:`0 ${e.space.$5} ${e.space.$4}`,gap:e.space.$2}),children:[(0,o.tZ)(l.SmallAction,{elementDescriptor:s.descriptors.userButtonPopoverActionButton,elementId:s.descriptors.userButtonPopoverActionButton.setId("manageAccount"),iconBoxElementDescriptor:s.descriptors.userButtonPopoverActionButtonIconBox,iconBoxElementId:s.descriptors.userButtonPopoverActionButtonIconBox.setId("manageAccount"),iconElementDescriptor:s.descriptors.userButtonPopoverActionButtonIcon,iconElementId:s.descriptors.userButtonPopoverActionButtonIcon.setId("manageAccount"),icon:c.tc,label:(0,s.localizationKeys)("userButton.action__manageAccount"),onClick:r}),(0,o.tZ)(l.SmallAction,{elementDescriptor:s.descriptors.userButtonPopoverActionButton,elementId:s.descriptors.userButtonPopoverActionButton.setId("signOut"),iconBoxElementDescriptor:s.descriptors.userButtonPopoverActionButtonIconBox,iconBoxElementId:s.descriptors.userButtonPopoverActionButtonIconBox.setId("signOut"),iconElementDescriptor:s.descriptors.userButtonPopoverActionButtonIcon,iconElementId:s.descriptors.userButtonPopoverActionButtonIcon.setId("signOut"),icon:c.lv,label:(0,s.localizationKeys)("userButton.action__signOut"),onClick:d(m)})]})}):(0,o.tZ)(l.SmallActions,{role:"menu",elementDescriptor:s.descriptors.userButtonPopoverActions,elementId:s.descriptors.userButtonPopoverActions.setId("multiSession"),sx:e=>({gap:e.space.$1,paddingBottom:e.space.$2}),children:g?.map(e=>{let t;return t=Object.values(i.Zb).includes(e.id)?{elementDescriptor:s.descriptors.userButtonPopoverActionButton,elementId:s.descriptors.userButtonPopoverActionButton.setId(e.id),iconBoxElementDescriptor:s.descriptors.userButtonPopoverActionButtonIconBox,iconBoxElementId:s.descriptors.userButtonPopoverActionButtonIconBox.setId(e.id),iconElementDescriptor:s.descriptors.userButtonPopoverActionButtonIcon,iconElementId:s.descriptors.userButtonPopoverActionButtonIcon.setId(e.id)}:{elementDescriptor:s.descriptors.userButtonPopoverCustomItemButton,elementId:s.descriptors.userButtonPopoverCustomItemButton.setId(e.id),iconBoxElementDescriptor:s.descriptors.userButtonPopoverCustomItemButtonIconBox,iconBoxElementId:s.descriptors.userButtonPopoverCustomItemButtonIconBox.setId(e.id),iconElementDescriptor:s.descriptors.userButtonPopoverActionItemButtonIcon,iconElementId:s.descriptors.userButtonPopoverActionItemButtonIcon.setId(e.id)},o.tZ(l.Action,{...t,icon:e.icon,label:e.name,onClick:e.id===i.Zb.SIGN_OUT?d(m):()=>I(e),sx:e=>({border:0,padding:`${e.space.$2} ${e.space.$5}`,gap:e.space.$3x5}),iconSx:e=>({width:e.sizes.$4,height:e.sizes.$4}),iconBoxSx:e=>({minHeight:e.sizes.$4,minWidth:e.sizes.$4,alignItems:"center"})},e.id)})}),(0,o.BX)(l.Actions,{role:"menu",sx:e=>({borderTopStyle:e.borderStyles.$solid,borderTopWidth:e.borderWidths.$normal,borderTopColor:e.colors.$neutralAlpha100}),children:[f.map(e=>(0,o.tZ)(l.PreviewButton,{icon:c.nR,onClick:u(e),role:"menuitem",children:(0,o.tZ)(l.UserPreview,{user:e.user})},e.id)),(0,o.tZ)(l.Action,{elementDescriptor:s.descriptors.userButtonPopoverActionButton,elementId:s.descriptors.userButtonPopoverActionButton.setId("addAccount"),iconBoxElementDescriptor:s.descriptors.userButtonPopoverActionButtonIconBox,iconBoxElementId:s.descriptors.userButtonPopoverActionButtonIconBox.setId("addAccount"),iconElementDescriptor:s.descriptors.userButtonPopoverActionButtonIcon,iconElementId:s.descriptors.userButtonPopoverActionButtonIcon.setId("addAccount"),icon:c.mm,label:(0,s.localizationKeys)("userButton.action__addAccount"),onClick:p,iconSx:e=>({width:e.sizes.$9,height:e.sizes.$6}),iconBoxSx:e=>({minHeight:e.sizes.$9,minWidth:e.sizes.$6,alignItems:"center"}),spinnerSize:"md"})]})]})},p=e=>{let{handleSignOutAllClicked:t,elementDescriptor:r,elementId:n,iconBoxElementDescriptor:i,iconBoxElementId:a,iconElementDescriptor:d,iconElementId:u,label:p,sx:h,actionSx:m}=e;return(0,o.tZ)(l.Actions,{role:"menu",sx:[e=>({padding:e.space.$2}),h],children:(0,o.tZ)(l.Action,{elementDescriptor:r||s.descriptors.userButtonPopoverActionButton,elementId:n||s.descriptors.userButtonPopoverActionButton.setId("signOutAll"),iconBoxElementDescriptor:i||s.descriptors.userButtonPopoverActionButtonIconBox,iconBoxElementId:a||s.descriptors.userButtonPopoverActionButtonIconBox.setId("signOutAll"),iconElementDescriptor:d||s.descriptors.userButtonPopoverActionButtonIcon,iconElementId:u||s.descriptors.userButtonPopoverActionButtonIcon.setId("signOutAll"),icon:c.lv,label:p||(0,s.localizationKeys)("userButton.action__signOutAll"),onClick:t,variant:"ghost",colorScheme:"neutral",sx:[e=>({backgroundColor:e.colors.$transparent,padding:`${e.space.$2} ${e.space.$3}`,borderBottomWidth:0,borderRadius:e.radii.$lg}),m],spinnerSize:"md"})})}},5241:function(e,t,r){r.d(t,{Z:()=>c});var o=r(3799),n=r(5809),i=r(3805),a=r(4264),s=r(4676),l=r(43);let c=e=>{let{setActive:t,signOut:r,openUserProfile:c}=(0,o.cL)(),d=(0,i.useCardState)(),{signedInSessions:u,otherSessions:p}=(0,a.j)({user:e.user}),{navigate:h}=(0,s.useRouter)();return{handleSignOutSessionClicked:t=>()=>0===p.length?r(e.navigateAfterSignOut):r(e.navigateAfterMultiSessionSingleSignOut,{sessionId:t.id}).finally(()=>d.setIdle()),handleManageAccountClicked:()=>"navigation"===e.userProfileMode?h(e.userProfileUrl||"").finally(()=>{(async()=>{await (0,l._v)(300),e.actionCompleteCallback?.()})()}):(c(e.userProfileProps),e.actionCompleteCallback?.()),handleUserProfileActionClicked:t=>"navigation"===e.userProfileMode?h(e.userProfileUrl||"").finally(()=>{(async()=>{await (0,l._v)(300),e.actionCompleteCallback?.()})()}):(c({...e.userProfileProps,...t&&{__experimental_startPath:t}}),e.actionCompleteCallback?.()),handleSignOutAllClicked:()=>r(e.navigateAfterSignOut),handleSessionClicked:r=>async()=>(d.setLoading(),t({session:r,redirectUrl:e.afterSwitchSessionUrl}).finally(()=>{d.setIdle(),e.actionCompleteCallback?.()})),handleAddAccountClicked:()=>((0,n.T7)(e.signInUrl||window.location.href),(0,l._v)(2e3)),otherSessions:p,signedInSessions:u}}}}]);