"use strict";(globalThis.webpackChunk_clerk_clerk_js=globalThis.webpackChunk_clerk_clerk_js||[]).push([["645"],{15515:function(e,t,r){r.d(t,{j:()=>g,f:()=>s});var n=r(88635);r(69144);var o=r(43812),i=r(43064),a=r(77718),c=r(24676),l=r(55913);let s=()=>{let{statements:e,isLoading:t,totalCount:r}=(0,o.useStatementsContext)();return(0,n.tZ)(p,{page:1,onPageChange:e=>{},itemCount:r,pageCount:1,itemsPerPage:10,isLoading:t,emptyStateLocalizationKey:"No statements to display",headers:["Date","Amount"],rows:e.map(e=>(0,n.tZ)(d,{statement:e},e.id))})},d=e=>{let{statement:t}=e,{timestamp:r,id:o,totals:{grandTotal:a}}=t,{navigate:s}=(0,c.useRouter)();return(0,n.BX)(u,{onClick:()=>{s("statement/".concat(o))},children:[(0,n.BX)(i.Td,{sx:{cursor:"pointer"},children:[(0,n.tZ)(i.Text,{variant:"subtitle",children:new Date(r).toLocaleString("en-US",{month:"long",year:"numeric"})}),(0,n.tZ)(i.Text,{colorScheme:"secondary",variant:"caption",truncate:!0,sx:e=>({marginTop:e.space.$0x5}),children:(0,l.L)(o)})]}),(0,n.tZ)(i.Td,{sx:{cursor:"pointer"},children:(0,n.BX)(i.Text,{colorScheme:"secondary",children:[a.currencySymbol,a.amountFormatted]})})]})},p=e=>{let{headers:t,page:r,onPageChange:o,rows:c,isLoading:l,itemCount:s,itemsPerPage:d,pageCount:p,emptyStateLocalizationKey:u}=e,h=s>0?Math.max(0,(r-1)*d)+1:0,S=Math.min(r*d,s);return(0,n.BX)(i.Col,{gap:4,sx:{width:"100%"},children:[(0,n.tZ)(i.Flex,{sx:e=>({overflowX:"auto",padding:e.space.$1}),children:(0,n.BX)(i.Table,{sx:{tableLayout:"fixed"},children:[(0,n.tZ)(i.Thead,{children:(0,n.tZ)(i.Tr,{children:t.map((e,t)=>(0,n.tZ)(i.Th,{elementDescriptor:i.descriptors.tableHead,localizationKey:e,sx:{width:0===t?"auto":"25%"}},t))})}),(0,n.tZ)(i.Tbody,{children:l?(0,n.tZ)(i.Tr,{children:(0,n.tZ)(i.Td,{colSpan:4,children:(0,n.tZ)(i.Spinner,{colorScheme:"primary",sx:{margin:"auto",display:"block"},elementDescriptor:i.descriptors.spinner})})}):c.length?c:(0,n.tZ)(m,{localizationKey:u},"empty")})]})}),p>1&&(0,n.tZ)(a.Pagination,{count:p,page:r,onChange:o,siblingCount:1,rowInfo:{allRowsCount:s,startingRow:h,endingRow:S}})]})},m=e=>(0,n.tZ)(i.Tr,{children:(0,n.tZ)(i.Td,{colSpan:4,children:(0,n.tZ)(i.Text,{localizationKey:e.localizationKey,sx:{margin:"auto",display:"block",width:"fit-content"}})})}),u=e=>(0,n.tZ)(i.Tr,{...e,sx:e=>({":hover":{backgroundColor:e.colors.$neutralAlpha50}})});r(45261),r(70957),r(24551),r(22349),r(65223);var h=r(63610),S=r(34229);function y(e){let{text:t,copyLabel:r="Copy"}=e,{onCopy:o,hasCopied:a}=(0,S.VP)(t);return(0,n.tZ)(i.Button,{elementDescriptor:i.descriptors.statementCopyButton,variant:"unstyled",onClick:o,sx:e=>({color:"inherit",width:e.sizes.$4,height:e.sizes.$4,padding:0,borderRadius:e.radii.$sm,"&:focus-visible":{outline:"2px solid",outlineColor:e.colors.$neutralAlpha200}}),focusRing:!1,"aria-label":a?"Copied":r,children:(0,n.tZ)(i.Icon,{size:"sm",icon:a?h.Jr:h.CK,"aria-hidden":!0})})}let x={Root:function(e){let{children:t}=e;return(0,n.tZ)(i.Box,{elementDescriptor:i.descriptors.statementRoot,as:"article",sx:e=>({borderWidth:e.borderWidths.$normal,borderStyle:e.borderStyles.$solid,borderColor:e.colors.$neutralAlpha100,borderRadius:e.radii.$lg,overflow:"clip"}),children:t})},Header:function(e){let{title:t,id:r,status:o}=e;return(0,n.BX)(i.Box,{elementDescriptor:i.descriptors.statementHeader,as:"header",sx:e=>({padding:e.space.$4,background:e.colors.$neutralAlpha25,display:"flex",justifyContent:"space-between",alignItems:"flex-start"}),children:[(0,n.BX)(i.Span,{elementDescriptor:i.descriptors.statementHeaderTitleContainer,children:[(0,n.tZ)(i.Heading,{elementDescriptor:i.descriptors.statementHeaderTitle,textVariant:"h2",localizationKey:t}),(0,n.BX)(i.Span,{sx:e=>({display:"flex",alignItems:"center",gap:e.space.$0x25,color:e.colors.$colorTextSecondary}),children:[(0,n.tZ)(y,{copyLabel:"Copy statement ID",text:r}),(0,n.tZ)(i.Text,{colorScheme:"secondary",variant:"subtitle",children:(0,l.L)(r)})]})]}),(0,n.tZ)(i.Badge,{elementDescriptor:i.descriptors.statementHeaderBadge,colorScheme:"open"===o?"secondary":"primary",sx:{textTransform:"capitalize"},children:o})]})},Body:function(e){let{children:t}=e;return(0,n.tZ)(i.Box,{elementDescriptor:i.descriptors.statementBody,children:t})},Section:function(e){let{children:t}=e;return(0,n.tZ)(i.Box,{elementDescriptor:i.descriptors.statementSection,as:"section",children:t})},SectionHeader:function(e){let{text:t}=e;return(0,n.tZ)(i.Box,{elementDescriptor:i.descriptors.statementSectionHeader,sx:e=>({paddingInline:e.space.$4,paddingBlock:e.space.$1,background:e.colors.$neutralAlpha50,borderBlockWidth:e.borderWidths.$normal,borderBlockStyle:e.borderStyles.$solid,borderBlockColor:e.colors.$neutralAlpha100}),children:(0,n.tZ)(i.Heading,{elementDescriptor:i.descriptors.statementSectionHeaderTitle,textVariant:"h3",as:"h2",localizationKey:t,sx:e=>({fontWeight:e.fontWeights.$medium})})})},SectionContent:function(e){let{children:t}=e;return(0,n.tZ)(i.Box,{elementDescriptor:i.descriptors.statementSectionContent,children:t})},SectionContentItem:function(e){let{children:t}=e;return(0,n.tZ)(i.Box,{elementDescriptor:i.descriptors.statementSectionContentItem,sx:e=>({paddingInline:e.space.$4,paddingBlock:e.space.$3,"&:not(:first-child)":{borderBlockStartWidth:e.borderWidths.$normal,borderBlockStartStyle:e.borderStyles.$solid,borderBlockStartColor:e.colors.$neutralAlpha100}}),children:t})},SectionContentDetailsHeader:function(e){let{title:t,description:r,secondaryTitle:o,secondaryDescription:a}=e;return(0,n.BX)(i.Box,{elementDescriptor:i.descriptors.statementSectionContentDetailsHeader,sx:e=>({marginBlockEnd:e.space.$2,display:"flex",justifyContent:"space-between"}),children:[(0,n.BX)(i.Box,{elementDescriptor:i.descriptors.statementSectionContentDetailsHeaderItem,children:[(0,n.BX)(i.Span,{sx:e=>({display:"flex",alignItems:"center",gap:e.space.$1}),children:[(0,n.tZ)(i.Icon,{elementDescriptor:i.descriptors.statementSectionContentDetailsHeaderItemIcon,icon:h.ou,colorScheme:"neutral"}),(0,n.tZ)(i.Heading,{elementDescriptor:i.descriptors.statementSectionContentDetailsHeaderTitle,as:"h3",textVariant:"h3",localizationKey:t})]}),(0,n.tZ)(i.Text,{variant:"caption",colorScheme:"secondary",elementDescriptor:i.descriptors.statementSectionContentDetailsHeaderDescription,localizationKey:r})]}),(0,n.BX)(i.Box,{elementDescriptor:i.descriptors.statementSectionContentDetailsHeaderItem,sx:{textAlign:"right"},children:[(0,n.tZ)(i.Text,{variant:"h3",elementDescriptor:i.descriptors.statementSectionContentDetailsHeaderSecondaryTitle,localizationKey:o}),(0,n.tZ)(i.Text,{variant:"caption",colorScheme:"secondary",elementDescriptor:i.descriptors.statementSectionContentDetailsHeaderSecondaryDescription,localizationKey:a})]})]})},SectionContentDetailsList:function(e){let{children:t}=e;return(0,n.tZ)(i.Box,{elementDescriptor:i.descriptors.statementSectionContentDetailsList,as:"ul",sx:e=>({margin:0,padding:0,borderWidth:e.borderWidths.$normal,borderStyle:e.borderStyles.$solid,borderColor:e.colors.$neutralAlpha100,borderRadius:e.radii.$md,overflow:"hidden"}),children:t})},SectionContentDetailsListItem:function(e){let{labelIcon:t,label:r,valueCopyable:o=!1,value:a,valueTruncated:c=!1}=e;return(0,n.BX)(i.Box,{elementDescriptor:i.descriptors.statementSectionContentDetailsListItem,as:"li",sx:e=>({margin:0,paddingInline:e.space.$2,paddingBlock:e.space.$1x5,display:"flex",justifyContent:"space-between",flexWrap:"wrap",columnGap:e.space.$2,rowGap:e.space.$0x5,"&:not(:first-child)":{borderBlockStartWidth:e.borderWidths.$normal,borderBlockStartStyle:e.borderStyles.$solid,borderBlockStartColor:e.colors.$neutralAlpha100}}),children:[(0,n.BX)(i.Span,{elementDescriptor:i.descriptors.statementSectionContentDetailsListItemLabelContainer,sx:e=>({display:"flex",alignItems:"center",gap:e.space.$1x5}),children:[t?(0,n.tZ)(i.Icon,{icon:t,colorScheme:"neutral"}):null,(0,n.tZ)(i.Text,{variant:"caption",colorScheme:"secondary",elementDescriptor:i.descriptors.statementSectionContentDetailsListItemLabel,localizationKey:r})]}),(0,n.tZ)(i.Span,{sx:e=>({display:"flex",alignItems:"center",gap:e.space.$0x25,color:e.colors.$colorTextSecondary}),children:"string"==typeof a?(0,n.BX)(n.HY,{children:[o?(0,n.tZ)(y,{copyLabel:"Copy statement ID",text:a}):null,(0,n.tZ)(i.Text,{colorScheme:"secondary",variant:"caption",elementDescriptor:i.descriptors.statementSectionContentDetailsListItemValue,children:c?(0,l.L)(a):a})]}):(0,n.tZ)(i.Text,{elementDescriptor:i.descriptors.statementSectionContentDetailsListItemValue,colorScheme:"secondary",variant:"caption",localizationKey:a})})]})},Footer:function(e){let{label:t,value:r}=e;return(0,n.BX)(i.Box,{elementDescriptor:i.descriptors.statementFooter,as:"footer",sx:e=>({paddingInline:e.space.$4,paddingBlock:e.space.$3,background:e.colors.$neutralAlpha25,borderBlockStartWidth:e.borderWidths.$normal,borderBlockStartStyle:e.borderStyles.$solid,borderBlockStartColor:e.colors.$neutralAlpha100,display:"flex",justifyContent:"space-between"}),children:[(0,n.tZ)(i.Text,{variant:"h3",localizationKey:t,elementDescriptor:i.descriptors.statementFooterLabel}),(0,n.BX)(i.Span,{elementDescriptor:i.descriptors.statementFooterValueContainer,sx:e=>({display:"flex",alignItems:"center",gap:e.space.$2x5}),children:[(0,n.tZ)(i.Text,{variant:"caption",colorScheme:"secondary",elementDescriptor:i.descriptors.statementFooterCurrency,children:"USD"}),(0,n.tZ)(i.Text,{variant:"h3",elementDescriptor:i.descriptors.statementFooterValue,children:r})]})]})}},b=()=>{let{params:e,navigate:t}=(0,c.useRouter)(),{getStatementById:r,isLoading:s}=(0,o.useStatementsContext)(),d=e.statementId?r(e.statementId):null;return s?(0,n.tZ)(i.Box,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:(0,n.tZ)(i.Spinner,{colorScheme:"primary",sx:{margin:"auto",display:"block"},elementDescriptor:i.descriptors.spinner})}):d?(0,n.BX)(n.HY,{children:[(0,n.tZ)(a.Header.Root,{sx:e=>({borderBlockEndWidth:e.borderWidths.$normal,borderBlockEndStyle:e.borderStyles.$solid,borderBlockEndColor:e.colors.$neutralAlpha100,marginBlockEnd:e.space.$4,paddingBlockEnd:e.space.$4}),children:(0,n.tZ)(a.Header.BackLink,{onClick:()=>void t("../../",{searchParams:new URLSearchParams("tab=statements")}),children:(0,n.tZ)(a.Header.Title,{localizationKey:"Statements",textVariant:"h2"})})}),(0,n.BX)(x.Root,{children:[(0,n.tZ)(x.Header,{title:new Date(d.timestamp).toLocaleString("en-US",{month:"long",year:"numeric"}),id:d.id,status:d.status}),(0,n.tZ)(x.Body,{children:d.groups.map(e=>(0,n.BX)(x.Section,{children:[(0,n.tZ)(x.SectionHeader,{text:new Date(e.timestamp).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric"})}),(0,n.tZ)(x.SectionContent,{children:e.items.map(e=>{var t,r;return(0,n.BX)(x.SectionContentItem,{children:[(0,n.tZ)(x.SectionContentDetailsHeader,{title:e.subscription.plan.name,description:"".concat(null===(t=e.subscription.amount)||void 0===t?void 0:t.currencySymbol).concat(null===(r=e.subscription.amount)||void 0===r?void 0:r.amountFormatted," / ").concat("month"===e.subscription.planPeriod?"month":"year"),secondaryTitle:"".concat(e.amount.currencySymbol).concat(e.amount.amountFormatted),secondaryDescription:""}),(0,n.BX)(x.SectionContentDetailsList,{children:[(0,n.tZ)(x.SectionContentDetailsListItem,{label:"recurring"===e.chargeType?"Paid for ".concat(e.subscription.plan.name," ").concat(e.subscription.planPeriod," plan"):"Subscribed and paid for ".concat(e.subscription.plan.name," ").concat(e.subscription.planPeriod," plan"),labelIcon:"recurring"===e.chargeType?h.uR:h.v3,value:(0,l.L)(e.id),valueTruncated:!0,valueCopyable:!0}),e.subscription.credit&&e.subscription.credit.amount.amount>0?(0,n.tZ)(x.SectionContentDetailsListItem,{label:"Prorated credit for partial usage of previous subscription ",value:"(".concat(e.subscription.credit.amount.currencySymbol).concat(e.subscription.credit.amount.amountFormatted,")")}):null]})]},e.id)})})]},e.timestamp))}),(0,n.tZ)(x.Footer,{label:"Total paid",value:"".concat(d.totals.grandTotal.currencySymbol).concat(d.totals.grandTotal.amountFormatted)})]})]}):(0,n.tZ)(i.Text,{children:"Statement not found"})},g=()=>(0,n.tZ)(o.StatementsContextProvider,{children:(0,n.tZ)(b,{})})}}]);